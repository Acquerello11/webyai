<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Alice Moist Daily</title>
  <link href="https://fonts.googleapis.com/css2?family=Kanit&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="css/navbar-footer-style.css">
  <script src="js/navbar-footer.js" defer></script>
</head>

<body>
<div id="navbar"></div>

<main class="container">
    <section class="product-section" style="display:flex;gap:32px;align-items:center;justify-content:center;background:none;box-shadow:none;padding:0 0 32px 0;max-width:1100px;margin:auto;">
      <div style="flex:1;min-width:320px;max-width:480px;display:flex;flex-direction:column;align-items:center;justify-content:center;">
        <h1 style="font-family:'Kanit',sans-serif;font-size:2.1rem;font-weight:700;color:#183a7a;margin-bottom:18px;text-align:left;width:100%;"><span style='color:#183a7a;'>Alice</span> <span style='color:#00c300;'>MOIST</span> Daily</h1>
        <div style="width:100%;min-height:400px;display:flex;justify-content:center;align-items:center;">
          <img src="../images/product1.png" alt="Alice Moist Daily Contact Lenses" style="max-width:500px;width:100%;height:auto;display:block;margin-bottom:0;object-fit:contain;">
        </div>
      </div>
      <div style="flex:1;min-width:320px;max-width:420px;background:#fff;border-radius:18px;box-shadow:0 2px 16px rgba(0,0,0,0.09);padding:28px 24px 32px 24px;display:flex;flex-direction:column;align-items:stretch;gap:12px;">
        <h2 style="font-family:'Kanit',sans-serif;font-size:1.35rem;font-weight:700;color:#183a7a;margin-bottom:8px;text-align:left;">Alice <span style='color:#00c300;font-weight:bold;'>MOIST</span> Daily</h2>
        <div style="font-size:1.05rem;color:#223;margin-bottom:10px;">เลนส์สัมผัสชนิดนิ่ม <b style='color:#183a7a;'>อลิซมอยส์เดลี่</b> เป็นคอนแทคเลนส์ใสรายวันที่ใช้ <span style='color:#00c300;font-weight:bold;'>GMMA</span> เป็นตัวรักษาความชุ่มชื้น (Moisturizer) ตลอดวันที่สวมใส่</div>
        <div class="prescription-selection">
          <div style="background:#f7fafd;border-radius:16px;box-shadow:0 2px 12px rgba(24,58,122,0.07);padding:18px 18px 10px 18px;display:flex;flex-direction:column;gap:10px;">
            <div style="display:flex;gap:18px;justify-content:space-between;align-items:flex-start;">
              <div style="flex:1;display:flex;flex-direction:column;gap:18px;">
                <!-- ตาขวา -->
                <div style="display:flex;align-items:center;justify-content:space-between;gap:8px;background:#fff;border-radius:12px;padding:12px 16px 10px 16px;box-shadow:0 1px 6px rgba(24,58,122,0.06);">
                  <div style="flex:1;display:flex;flex-direction:column;align-items:flex-start;">
                    <div style="font-size:1.15rem;font-weight:700;color:#183a7a;margin-bottom:2px;">ตาขวา*</div>
                    <select id="rightEyeSelect" class="eye-dropdown" style="width:100%;max-width:120px;font-size:1.1rem;padding:8px 12px;border-radius:8px;border:2px solid #b5d6e6;margin-top:8px;font-weight:600;">
                      <option value="">-- เลือก --</option>
                      <option value="-0.25">-0.25</option>
                      <option value="-0.50">-0.50</option>
                      <option value="-0.75">-0.75</option>
                      <option value="-1.00">-1.00</option>
                      <option value="-1.25">-1.25</option>
                      <option value="-1.50">-1.50</option>
                      <option value="-1.75">-1.75</option>
                      <option value="-2.00">-2.00</option>
                      <option value="-2.25">-2.25</option>
                      <option value="-2.50">-2.50</option>
                      <option value="-2.75">-2.75</option>
                      <option value="-3.00">-3.00</option>
                      <option value="-3.25">-3.25</option>
                      <option value="-3.50">-3.50</option>
                      <option value="-3.75">-3.75</option>
                      <option value="-4.00">-4.00</option>
                      <option value="-4.25">-4.25</option>
                      <option value="-4.50">-4.50</option>
                      <option value="-4.75">-4.75</option>
                      <option value="-5.00">-5.00</option>
                      <option value="-5.25">-5.25</option>
                      <option value="-5.50">-5.50</option>
                      <option value="-5.75">-5.75</option>
                      <option value="-6.00">-6.00</option>
                    </select>
                    <div style="font-size:0.85rem;color:#888;margin-top:6px;">* กรณีสั่ง 1 ชุด จะได้สายตาขวาเป็นหลัก</div>
                  </div>
                  <div style="width:54px;height:38px;display:flex;align-items:center;justify-content:center;">
                    <svg width="48" height="32" viewBox="0 0 48 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <ellipse cx="24" cy="16" rx="22" ry="13" stroke="#183a7a" stroke-width="2"/>
                      <circle cx="24" cy="16" r="7" stroke="#183a7a" stroke-width="2"/>
                      <circle cx="24" cy="16" r="2.5" stroke="#183a7a" stroke-width="2"/>
                    </svg>
                  </div>
                </div>
                <!-- ตาซ้าย -->
                <div style="display:flex;align-items:center;justify-content:space-between;gap:8px;background:#fff;border-radius:12px;padding:12px 16px 10px 16px;box-shadow:0 1px 6px rgba(24,58,122,0.06);">
                  <div style="width:54px;height:38px;display:flex;align-items:center;justify-content:center;">
                    <svg width="48" height="32" viewBox="0 0 48 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <ellipse cx="24" cy="16" rx="22" ry="13" stroke="#183a7a" stroke-width="2"/>
                      <circle cx="24" cy="16" r="7" stroke="#183a7a" stroke-width="2"/>
                      <circle cx="24" cy="16" r="2.5" stroke="#183a7a" stroke-width="2"/>
                    </svg>
                  </div>
                  <div style="flex:1;display:flex;flex-direction:column;align-items:flex-end;">
                    <div style="font-size:1.15rem;font-weight:700;color:#183a7a;margin-bottom:2px;">ตาซ้าย</div>
                    <select id="leftEyeSelect" class="eye-dropdown" style="width:100%;max-width:120px;font-size:1.1rem;padding:8px 12px;border-radius:8px;border:2px solid #b5d6e6;margin-top:8px;font-weight:600;">
                      <option value="">-- เลือก --</option>
                      <option value="-0.25">-0.25</option>
                      <option value="-0.50">-0.50</option>
                      <option value="-0.75">-0.75</option>
                      <option value="-1.00">-1.00</option>
                      <option value="-1.25">-1.25</option>
                      <option value="-1.50">-1.50</option>
                      <option value="-1.75">-1.75</option>
                      <option value="-2.00">-2.00</option>
                      <option value="-2.25">-2.25</option>
                      <option value="-2.50">-2.50</option>
                      <option value="-2.75">-2.75</option>
                      <option value="-3.00">-3.00</option>
                      <option value="-3.25">-3.25</option>
                      <option value="-3.50">-3.50</option>
                      <option value="-3.75">-3.75</option>
                      <option value="-4.00">-4.00</option>
                      <option value="-4.25">-4.25</option>
                      <option value="-4.50">-4.50</option>
                      <option value="-4.75">-4.75</option>
                      <option value="-5.00">-5.00</option>
                      <option value="-5.25">-5.25</option>
                      <option value="-5.50">-5.50</option>
                      <option value="-5.75">-5.75</option>
                      <option value="-6.00">-6.00</option>
                    </select>
                  </div>
                </div>
              </div>
            </div>
            <div style="display:flex;align-items:center;gap:12px;margin-top:8px;">
              <span style="font-size:1.05rem;color:#183a7a;font-weight:600;">ต้องการความช่วยเหลือ</span>
              <a href="tel:+66123456789" style="background:#00c300;border-radius:50%;width:32px;height:32px;display:flex;align-items:center;justify-content:center;text-decoration:none;transition:all 0.3s ease;" title="โทรหาเรา">
                <i class="fas fa-phone" style="color:white;font-size:14px;"></i>
              </a>
              <a href="https://line.me/ti/p/~@alicecontactlens" target="_blank" style="background:#00c300;border-radius:50%;width:32px;height:32px;display:flex;align-items:center;justify-content:center;text-decoration:none;transition:all 0.3s ease;" title="แชทไลน์">
                <i class="fab fa-line" style="color:white;font-size:16px;"></i>
              </a>
            </div>
          </div>
        <div class="quantity-selection" id="quantitySelection" style="display: none;">
          <div style="background:#f7fafd;border-radius:16px;box-shadow:0 2px 12px rgba(24,58,122,0.07);padding:18px 18px 10px 18px;margin-top:12px;">
            <h3 style="font-size:1.15rem;font-weight:700;color:#183a7a;margin-bottom:10px;">เลือกจำนวนกล่อง</h3>
            <div style="display:flex;align-items:center;gap:10px;">
              <select id="quantitySelect" class="quantity-dropdown" style="font-size:1.1rem;padding:8px 16px;border-radius:8px;border:2px solid #b5d6e6;min-width:200px;font-weight:600;">
                <option value="1">1 ชุด (30 เลนส์)</option>
                <option value="2" selected>2 ชุด (60 เลนส์) - ประหยัด 7.14%</option>
                <option value="4">4 ชุด (120 เลนส์) - ประหยัด 14.28%</option>
              </select>
              <span style="font-size:1.0rem;color:#00c300;font-weight:700;">ประหยัดกว่า 14.28% หากซื้อ 4 ชุด</span>
            </div>
            <div class="quantity-details" id="quantityDetails" style="margin-top:10px;">
              <div class="quantity-info" style="display:flex;align-items:center;gap:16px;flex-wrap:wrap;">
                <div class="quantity-price" style="font-size:1.2rem;font-weight:700;color:#183a7a;">
                  <span class="current-price" style="color:#00c300;font-size:1.4rem;font-weight:800;">1,300.00 บาท</span>
                  <span class="original-price" style="color:#bbb;text-decoration:line-through;margin-left:8px;font-size:1.1rem;">1,400.00 บาท</span>
                </div>
                <div class="quantity-note" style="font-size:1.05rem;color:#183a7a;font-weight:600;">ตาขวา + ตาซ้าย</div>
                <div class="quantity-savings" style="font-size:1.05rem;color:#00c300;font-weight:700;">ประหยัด 100.00 บาท</div>
                <div class="shipping-badge" style="background:#00c300;color:#fff;font-size:0.95rem;padding:2px 12px;border-radius:12px;display:inline-block;">ส่งฟรี!</div>
              </div>
            </div>
          </div>
            </div>
        </div>
        <div class="summary">
            <div class="total-price">
                ยอดรวม: <span id="totalPrice">XXX.00 บาท</span>
            </div>
            <div class="action-buttons">
                <button class="add-to-cart" onclick="addToCart()">
                    <i class="fas fa-shopping-cart"></i> เพิ่มในตะกร้า
                </button>
            </div>
        </div>
      </div>
    </section>

</main>
<div id="footer"></div>
<div id="footer"></div>

<script>
  // ดึงข้อมูล user จาก API และแสดงชื่อผู้ใช้บน dashboard
  const API_BASE_URL = 'http://localhost:5500';
  const buyerEmail = localStorage.getItem('buyer_email');
  if (buyerEmail) {
    fetch(`${API_BASE_URL}/api/user?email=${encodeURIComponent(buyerEmail)}`)
      .then(res => res.json())
      .then(data => {
        if (data.user_name) {
          // สร้าง element แสดงชื่อผู้ใช้ด้านบน dashboard
          const userInfoDiv = document.createElement('div');
          userInfoDiv.style = 'width:100%;text-align:right;padding:8px 0 0 0;font-size:1.08rem;color:#183a7a;font-weight:500;';
          userInfoDiv.innerHTML = `<i class='fas fa-user' style='margin-right:6px;color:#00c300;'></i> สวัสดี, ${data.user_name}`;
          document.body.insertBefore(userInfoDiv, document.body.firstChild.nextSibling);
        }
      });
  }
</script>
</body>
</html>